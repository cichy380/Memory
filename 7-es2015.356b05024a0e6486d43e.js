(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{YanU:function(t,e,o){"use strict";o.r(e),o.d(e,"PostsModule",(function(){return W}));var r=o("ofXK"),i=o("3Pt+"),a=o("tyNb"),c=o("fXoL");let n=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-posts"]],decls:1,vars:0,template:function(t,e){1&t&&c.Nb(0,"router-outlet")},directives:[a.g],styles:[""]}),t})();var s=o("l7P3"),b=o("/MEz"),p=o("1oMX");const{selectAll:d}=p.b.getSelectors(),l=Object(s.o)("posts"),u=Object(s.q)(l,d),m=t=>Object(s.q)(l,e=>e.entities[t]);var f=o("tgey"),h=o("hZJE"),g=o("+QYo"),S=o("bTqV"),R=o("NFeN"),v=o("MutI"),k=o("FKr1");const y=function(t){return["/","posts",t]};function B(t,e){if(1&t&&(c.Sb(0,"mat-list-item",9),c.Sb(1,"mat-icon",10),c.xc(2,"event_note"),c.Rb(),c.Sb(3,"div",11),c.xc(4),c.Rb(),c.Sb(5,"div",12),c.xc(6),c.ec(7,"date"),c.Rb(),c.Rb()),2&t){const t=e.$implicit;c.ic("routerLink",c.kc(5,y,t.id)),c.Bb(4),c.yc(t.title),c.Bb(2),c.yc(c.fc(7,3,t.date))}}const x=function(){return["/","posts","create"]};function w(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div"),c.Sb(1,"app-page-header"),c.Nb(2,"app-page-header-back",1),c.Sb(3,"app-page-header-title",2),c.xc(4,"Posts List"),c.Rb(),c.Sb(5,"button",3),c.Zb("click",(function(){return c.oc(t),c.dc().onRefresh()})),c.Sb(6,"mat-icon"),c.xc(7,"refresh"),c.Rb(),c.Rb(),c.Rb(),c.Sb(8,"div",4),c.Sb(9,"button",5),c.Sb(10,"mat-icon"),c.xc(11,"add"),c.Rb(),c.Rb(),c.Rb(),c.Sb(12,"div",6),c.Sb(13,"mat-list",7),c.wc(14,B,8,7,"mat-list-item",8),c.Rb(),c.Rb(),c.Rb()}if(2&t){const t=e.ngIf;c.Bb(2),c.ic("link","/"),c.Bb(1),c.ic("addons",t.length),c.Bb(6),c.ic("routerLink",c.jc(4,x)),c.Bb(5),c.ic("ngForOf",t)}}let F=(()=>{class t{constructor(t){this.store=t,t.dispatch(Object(b.g)()),this.posts$=this.store.pipe(Object(s.t)(u))}onRefresh(){this.store.dispatch(Object(b.g)())}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(s.h))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-posts-list"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to homepage",3,"link"],[3,"addons"],["mat-icon-button","","color","primary","aria-label","Reload",1,"ml-auto",3,"click"],[1,"floating-action"],["mat-fab","","color","primary","aria-label","Add new item",3,"routerLink"],[1,"page-content"],[1,"pt-0"],["mat-ripple","",3,"routerLink",4,"ngFor","ngForOf"],["mat-ripple","",3,"routerLink"],["mat-list-icon","","color","accent"],["mat-line",""],["mat-line","",1,"post-item__date"]],template:function(t,e){1&t&&(c.wc(0,w,15,5,"div",0),c.ec(1,"async")),2&t&&c.ic("ngIf",c.fc(1,1,e.posts$))},directives:[r.l,f.a,h.a,g.a,S.a,R.a,a.e,v.a,r.k,v.c,k.q,v.b,k.j],pipes:[r.b,r.e],styles:[".post-item__date[_ngcontent-%COMP%]{opacity:.5}"]}),t})();var N=o("qXsx"),P=o("Wp6s"),I=o("kmnG"),q=o("qFsG"),O=o("iadO");function C(t,e){1&t&&(c.Sb(0,"mat-error"),c.xc(1," Date of Post is required "),c.Rb())}function j(t,e){1&t&&(c.Sb(0,"mat-error"),c.xc(1," Title of Post is required "),c.Rb())}function L(t,e){1&t&&(c.Sb(0,"mat-error"),c.xc(1," Body of Post is required "),c.Rb())}const M=function(){return["/","posts"]};let D=(()=>{class t{constructor(t,e,o){this.formBuilder=t,this.store=e,this.notification=o}ngOnInit(){this.postForm=this.createPostCreateFormGroup()}onPostFormSubmit(){this.postForm.valid?this.store.dispatch(Object(b.a)({post:this.postForm.value})):this.notification.showError("Form contains errors. Fix it and try again.")}createPostCreateFormGroup(){return this.formBuilder.group({date:[new Date,i.r.required],title:["",i.r.required],body:["",i.r.required]})}canDeactivate(){return!this.postForm.dirty}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(i.d),c.Mb(s.h),c.Mb(N.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-post-create"]],decls:35,vars:13,consts:[["ariaLabel","Back to Posts List",3,"link"],[1,"page-content"],[1,"squeeze"],[3,"formGroup","submit"],[1,"w-100"],["matInput","",3,"formControlName","matDatepicker"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["matInput","","maxlength","40",3,"formControlName"],["title",""],["align","end"],["matInput","","rows","10",3,"formControlName"],[1,"text-right"],["mat-button","","type","button",3,"routerLink"],["mat-flat-button","","color","primary","type","submit"]],template:function(t,e){if(1&t&&(c.Sb(0,"div"),c.Sb(1,"app-page-header"),c.Nb(2,"app-page-header-back",0),c.Sb(3,"app-page-header-title"),c.xc(4,"Post Create"),c.Rb(),c.Rb(),c.Sb(5,"div",1),c.Sb(6,"div",2),c.Sb(7,"mat-card"),c.Sb(8,"form",3),c.Zb("submit",(function(){return e.onPostFormSubmit()})),c.Sb(9,"mat-form-field",4),c.Sb(10,"mat-label"),c.xc(11,"Choose a date"),c.Rb(),c.Nb(12,"input",5),c.Nb(13,"mat-datepicker-toggle",6),c.Nb(14,"mat-datepicker",null,7),c.wc(16,C,2,0,"mat-error",8),c.Rb(),c.Sb(17,"mat-form-field",4),c.Sb(18,"mat-label"),c.xc(19,"Post Title"),c.Rb(),c.Nb(20,"input",9,10),c.wc(22,j,2,0,"mat-error",8),c.Sb(23,"mat-hint",11),c.xc(24),c.Rb(),c.Rb(),c.Sb(25,"mat-form-field",4),c.Sb(26,"mat-label"),c.xc(27,"Body"),c.Rb(),c.Nb(28,"textarea",12),c.wc(29,L,2,0,"mat-error",8),c.Rb(),c.Sb(30,"div",13),c.Sb(31,"button",14),c.xc(32,"Cancel"),c.Rb(),c.Sb(33,"button",15),c.xc(34,"Submit"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&t){const t=c.mc(15),o=c.mc(21);c.Bb(2),c.ic("link","/posts/list"),c.Bb(6),c.ic("formGroup",e.postForm),c.Bb(4),c.ic("formControlName","date")("matDatepicker",t),c.Bb(1),c.ic("for",t),c.Bb(3),c.ic("ngIf",e.postForm.get("date").hasError("required")),c.Bb(4),c.ic("formControlName","title"),c.Bb(2),c.ic("ngIf",e.postForm.get("title").hasError("required")),c.Bb(2),c.zc("",o.value.length," / 40"),c.Bb(4),c.ic("formControlName","body"),c.Bb(1),c.ic("ngIf",e.postForm.get("body").hasError("required")),c.Bb(2),c.ic("routerLink",c.jc(12,M))}},directives:[f.a,h.a,g.a,P.a,i.s,i.m,i.f,I.c,I.g,q.b,i.c,O.b,i.l,i.e,O.d,I.h,O.a,r.l,i.h,I.f,S.a,a.e,I.b],styles:[""]}),t})();var G=o("quSY");function E(t,e){1&t&&(c.Sb(0,"mat-error"),c.xc(1," Date of Post is required "),c.Rb())}function T(t,e){1&t&&(c.Sb(0,"mat-error"),c.xc(1," Title of Post is required "),c.Rb())}function $(t,e){1&t&&(c.Sb(0,"mat-error"),c.xc(1," Body of Post is required "),c.Rb())}const z=function(){return["/","posts"]};function Z(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div"),c.Sb(1,"app-page-header"),c.Nb(2,"app-page-header-back",1),c.Sb(3,"app-page-header-title",2),c.ec(4,"date"),c.xc(5),c.Rb(),c.Sb(6,"button",3),c.Zb("click",(function(){c.oc(t);const o=e.ngIf;return c.dc().delete(o.id)})),c.Sb(7,"mat-icon"),c.xc(8,"delete"),c.Rb(),c.Rb(),c.Rb(),c.Sb(9,"div",4),c.Sb(10,"div",5),c.Sb(11,"mat-card"),c.Sb(12,"form",6),c.Zb("submit",(function(){return c.oc(t),c.dc().onPostFormSubmit()})),c.Sb(13,"mat-form-field",7),c.Sb(14,"mat-label"),c.xc(15,"Choose a date"),c.Rb(),c.Nb(16,"input",8),c.Nb(17,"mat-datepicker-toggle",9),c.Nb(18,"mat-datepicker",null,10),c.wc(20,E,2,0,"mat-error",0),c.Rb(),c.Sb(21,"mat-form-field",7),c.Sb(22,"mat-label"),c.xc(23,"Post Title"),c.Rb(),c.Nb(24,"input",11,12),c.wc(26,T,2,0,"mat-error",0),c.Sb(27,"mat-hint",13),c.xc(28),c.Rb(),c.Rb(),c.Sb(29,"mat-form-field",7),c.Sb(30,"mat-label"),c.xc(31,"Body"),c.Rb(),c.Nb(32,"textarea",14),c.wc(33,$,2,0,"mat-error",0),c.Rb(),c.Sb(34,"div",15),c.Sb(35,"button",16),c.xc(36,"Cancel"),c.Rb(),c.Sb(37,"button",17),c.xc(38,"Submit"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()}if(2&t){const t=e.ngIf,o=c.mc(19),r=c.mc(25),i=c.dc();c.Bb(2),c.ic("link","/posts/list"),c.Bb(1),c.ic("addons",c.fc(4,14,t.date)),c.Bb(2),c.yc(t.title),c.Bb(7),c.ic("formGroup",i.postForm),c.Bb(4),c.ic("formControlName","date")("matDatepicker",o),c.Bb(1),c.ic("for",o),c.Bb(3),c.ic("ngIf",i.postForm.get("date").hasError("required")),c.Bb(4),c.ic("formControlName","title"),c.Bb(2),c.ic("ngIf",i.postForm.get("title").hasError("required")),c.Bb(2),c.zc("",r.value.length," / 40"),c.Bb(4),c.ic("formControlName","body"),c.Bb(1),c.ic("ngIf",i.postForm.get("body").hasError("required")),c.Bb(2),c.ic("routerLink",c.jc(16,z))}}let _=(()=>{class t{constructor(t,e,o,r){this.activatedRoute=t,this.formBuilder=e,this.store=o,this.notification=r,this.subscriptions=new G.a}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.post$=this.store.pipe(Object(s.t)(m(t.id))),this.subscriptions.add(this.post$.subscribe(e=>{this.postForm=this.createPostFormGroup(e),e||this.store.dispatch(Object(b.i)({id:t.id}))}))})}onPostFormSubmit(){this.postForm.valid?this.store.dispatch(Object(b.m)({updatePost:{id:this.postForm.controls.id.value,changes:this.postForm.value}})):this.notification.showError("Form contains errors. Fix it and try again.")}delete(t){this.store.dispatch(Object(b.d)({id:t}))}createPostFormGroup(t){return this.formBuilder.group({id:[t?t.id:null,i.r.required],date:[t?t.date:new Date,i.r.required],title:[t?t.title:"",i.r.required],body:[t?t.body:"",i.r.required]})}canDeactivate(){return!this.postForm.dirty}ngOnDestroy(){this.subscriptions.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(a.a),c.Mb(i.d),c.Mb(s.h),c.Mb(N.a))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-post-update"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to Posts List",3,"link"],[3,"addons"],["mat-icon-button","","color","warn","aria-label","Delete Post",1,"ml-auto",3,"click"],[1,"page-content"],[1,"squeeze"],[3,"formGroup","submit"],[1,"w-100"],["matInput","",3,"formControlName","matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","maxlength","40",3,"formControlName"],["title",""],["align","end"],["matInput","","rows","10",3,"formControlName"],[1,"text-right"],["mat-button","","type","button",3,"routerLink"],["mat-flat-button","","color","primary","type","submit"]],template:function(t,e){1&t&&(c.wc(0,Z,39,17,"div",0),c.ec(1,"async")),2&t&&c.ic("ngIf",c.fc(1,1,e.post$))},directives:[r.l,f.a,h.a,g.a,S.a,R.a,P.a,i.s,i.m,i.f,I.c,I.g,q.b,i.c,O.b,i.l,i.e,O.d,I.h,O.a,i.h,I.f,a.e,I.b],pipes:[r.b,r.e],styles:[""]}),t})();var J=o("IzEk");const K=function(t){return["/","posts",t,"update"]};function X(t,e){if(1&t){const t=c.Tb();c.Sb(0,"div"),c.Sb(1,"app-page-header"),c.Nb(2,"app-page-header-back",1),c.Sb(3,"app-page-header-title",2),c.ec(4,"date"),c.xc(5),c.Rb(),c.Sb(6,"button",3),c.Sb(7,"mat-icon"),c.xc(8,"edit"),c.Rb(),c.Rb(),c.Sb(9,"button",4),c.Zb("click",(function(){c.oc(t);const o=e.ngIf;return c.dc().delete(o.id)})),c.Sb(10,"mat-icon"),c.xc(11,"delete"),c.Rb(),c.Rb(),c.Rb(),c.Sb(12,"div",5),c.xc(13),c.Rb(),c.Rb()}if(2&t){const t=e.ngIf;c.Bb(2),c.ic("link","/posts/list"),c.Bb(1),c.ic("addons",c.fc(4,5,t.date)),c.Bb(2),c.yc(t.title),c.Bb(1),c.ic("routerLink",c.kc(7,K,t.id)),c.Bb(7),c.zc(" ",t.body," ")}}let Y=(()=>{class t{constructor(t,e){this.activatedRoute=t,this.store=e}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.post$=this.store.pipe(Object(s.t)(m(t.id))),this.post$.pipe(Object(J.a)(1)).subscribe(e=>!e&&this.store.dispatch(Object(b.i)({id:t.id})))})}delete(t){this.store.dispatch(Object(b.d)({id:t}))}}return t.\u0275fac=function(e){return new(e||t)(c.Mb(a.a),c.Mb(s.h))},t.\u0275cmp=c.Gb({type:t,selectors:[["app-post-details"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to Posts List",3,"link"],[3,"addons"],["mat-icon-button","","color","primary","aria-label","Edit Post",1,"ml-auto",3,"routerLink"],["mat-icon-button","","color","warn","aria-label","Delete Post",3,"click"],[1,"page-content"]],template:function(t,e){1&t&&(c.wc(0,X,14,9,"div",0),c.ec(1,"async")),2&t&&c.ic("ngIf",c.fc(1,1,e.post$))},directives:[r.l,f.a,h.a,g.a,S.a,a.e,R.a],pipes:[r.b,r.e],styles:[""]}),t})();var A=o("udBE");const Q=[{path:"",component:n,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:F},{path:"create",component:D,canDeactivate:[A.a]},{path:":id/update",component:_,canDeactivate:[A.a]},{path:":id",component:Y}]}];let U=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[a.f.forChild(Q)],a.f]}),t})();var V=o("PCNd");let W=(()=>{class t{}return t.\u0275mod=c.Kb({type:t}),t.\u0275inj=c.Jb({factory:function(e){return new(e||t)},imports:[[r.c,U,V.a,i.p]]}),t})()}}]);