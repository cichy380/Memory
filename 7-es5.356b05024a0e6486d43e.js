!function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{YanU:function(t,i,r){"use strict";r.r(i),r.d(i,"PostsModule",(function(){return nt}));var a,n=r("ofXK"),c=r("3Pt+"),b=r("tyNb"),s=r("fXoL"),u=((a=function t(){o(this,t)}).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=s.Gb({type:a,selectors:[["app-posts"]],decls:1,vars:0,template:function(t,e){1&t&&s.Nb(0,"router-outlet")},directives:[b.g],styles:[""]}),a),p=r("l7P3"),l=r("/MEz"),d=r("1oMX").b.getSelectors().selectAll,m=Object(p.o)("posts"),f=Object(p.q)(m,d),h=function(t){return Object(p.q)(m,(function(e){return e.entities[t]}))},v=r("tgey"),g=r("hZJE"),S=r("+QYo"),R=r("bTqV"),y=r("NFeN"),k=r("MutI"),B=r("FKr1"),x=function(t){return["/","posts",t]};function w(t,e){if(1&t&&(s.Sb(0,"mat-list-item",9),s.Sb(1,"mat-icon",10),s.xc(2,"event_note"),s.Rb(),s.Sb(3,"div",11),s.xc(4),s.Rb(),s.Sb(5,"div",12),s.xc(6),s.ec(7,"date"),s.Rb(),s.Rb()),2&t){var o=e.$implicit;s.ic("routerLink",s.kc(5,x,o.id)),s.Bb(4),s.yc(o.title),s.Bb(2),s.yc(s.fc(7,3,o.date))}}var F=function(){return["/","posts","create"]};function N(t,e){if(1&t){var o=s.Tb();s.Sb(0,"div"),s.Sb(1,"app-page-header"),s.Nb(2,"app-page-header-back",1),s.Sb(3,"app-page-header-title",2),s.xc(4,"Posts List"),s.Rb(),s.Sb(5,"button",3),s.Zb("click",(function(){return s.oc(o),s.dc().onRefresh()})),s.Sb(6,"mat-icon"),s.xc(7,"refresh"),s.Rb(),s.Rb(),s.Rb(),s.Sb(8,"div",4),s.Sb(9,"button",5),s.Sb(10,"mat-icon"),s.xc(11,"add"),s.Rb(),s.Rb(),s.Rb(),s.Sb(12,"div",6),s.Sb(13,"mat-list",7),s.wc(14,w,8,7,"mat-list-item",8),s.Rb(),s.Rb(),s.Rb()}if(2&t){var i=e.ngIf;s.Bb(2),s.ic("link","/"),s.Bb(1),s.ic("addons",i.length),s.Bb(6),s.ic("routerLink",s.jc(4,F)),s.Bb(5),s.ic("ngForOf",i)}}var P,I=((P=function(){function t(e){o(this,t),this.store=e,e.dispatch(Object(l.g)()),this.posts$=this.store.pipe(Object(p.t)(f))}return e(t,[{key:"onRefresh",value:function(){this.store.dispatch(Object(l.g)())}}]),t}()).\u0275fac=function(t){return new(t||P)(s.Mb(p.h))},P.\u0275cmp=s.Gb({type:P,selectors:[["app-posts-list"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to homepage",3,"link"],[3,"addons"],["mat-icon-button","","color","primary","aria-label","Reload",1,"ml-auto",3,"click"],[1,"floating-action"],["mat-fab","","color","primary","aria-label","Add new item",3,"routerLink"],[1,"page-content"],[1,"pt-0"],["mat-ripple","",3,"routerLink",4,"ngFor","ngForOf"],["mat-ripple","",3,"routerLink"],["mat-list-icon","","color","accent"],["mat-line",""],["mat-line","",1,"post-item__date"]],template:function(t,e){1&t&&(s.wc(0,N,15,5,"div",0),s.ec(1,"async")),2&t&&s.ic("ngIf",s.fc(1,1,e.posts$))},directives:[n.l,v.a,g.a,S.a,R.a,y.a,b.e,k.a,n.k,k.c,B.q,k.b,B.j],pipes:[n.b,n.e],styles:[".post-item__date[_ngcontent-%COMP%]{opacity:.5}"]}),P),q=r("qXsx"),O=r("Wp6s"),C=r("kmnG"),j=r("qFsG"),L=r("iadO");function M(t,e){1&t&&(s.Sb(0,"mat-error"),s.xc(1," Date of Post is required "),s.Rb())}function D(t,e){1&t&&(s.Sb(0,"mat-error"),s.xc(1," Title of Post is required "),s.Rb())}function G(t,e){1&t&&(s.Sb(0,"mat-error"),s.xc(1," Body of Post is required "),s.Rb())}var E,T=function(){return["/","posts"]},$=((E=function(){function t(e,i,r){o(this,t),this.formBuilder=e,this.store=i,this.notification=r}return e(t,[{key:"ngOnInit",value:function(){this.postForm=this.createPostCreateFormGroup()}},{key:"onPostFormSubmit",value:function(){this.postForm.valid?this.store.dispatch(Object(l.a)({post:this.postForm.value})):this.notification.showError("Form contains errors. Fix it and try again.")}},{key:"createPostCreateFormGroup",value:function(){return this.formBuilder.group({date:[new Date,c.r.required],title:["",c.r.required],body:["",c.r.required]})}},{key:"canDeactivate",value:function(){return!this.postForm.dirty}}]),t}()).\u0275fac=function(t){return new(t||E)(s.Mb(c.d),s.Mb(p.h),s.Mb(q.a))},E.\u0275cmp=s.Gb({type:E,selectors:[["app-post-create"]],decls:35,vars:13,consts:[["ariaLabel","Back to Posts List",3,"link"],[1,"page-content"],[1,"squeeze"],[3,"formGroup","submit"],[1,"w-100"],["matInput","",3,"formControlName","matDatepicker"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["matInput","","maxlength","40",3,"formControlName"],["title",""],["align","end"],["matInput","","rows","10",3,"formControlName"],[1,"text-right"],["mat-button","","type","button",3,"routerLink"],["mat-flat-button","","color","primary","type","submit"]],template:function(t,e){if(1&t&&(s.Sb(0,"div"),s.Sb(1,"app-page-header"),s.Nb(2,"app-page-header-back",0),s.Sb(3,"app-page-header-title"),s.xc(4,"Post Create"),s.Rb(),s.Rb(),s.Sb(5,"div",1),s.Sb(6,"div",2),s.Sb(7,"mat-card"),s.Sb(8,"form",3),s.Zb("submit",(function(){return e.onPostFormSubmit()})),s.Sb(9,"mat-form-field",4),s.Sb(10,"mat-label"),s.xc(11,"Choose a date"),s.Rb(),s.Nb(12,"input",5),s.Nb(13,"mat-datepicker-toggle",6),s.Nb(14,"mat-datepicker",null,7),s.wc(16,M,2,0,"mat-error",8),s.Rb(),s.Sb(17,"mat-form-field",4),s.Sb(18,"mat-label"),s.xc(19,"Post Title"),s.Rb(),s.Nb(20,"input",9,10),s.wc(22,D,2,0,"mat-error",8),s.Sb(23,"mat-hint",11),s.xc(24),s.Rb(),s.Rb(),s.Sb(25,"mat-form-field",4),s.Sb(26,"mat-label"),s.xc(27,"Body"),s.Rb(),s.Nb(28,"textarea",12),s.wc(29,G,2,0,"mat-error",8),s.Rb(),s.Sb(30,"div",13),s.Sb(31,"button",14),s.xc(32,"Cancel"),s.Rb(),s.Sb(33,"button",15),s.xc(34,"Submit"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t){var o=s.mc(15),i=s.mc(21);s.Bb(2),s.ic("link","/posts/list"),s.Bb(6),s.ic("formGroup",e.postForm),s.Bb(4),s.ic("formControlName","date")("matDatepicker",o),s.Bb(1),s.ic("for",o),s.Bb(3),s.ic("ngIf",e.postForm.get("date").hasError("required")),s.Bb(4),s.ic("formControlName","title"),s.Bb(2),s.ic("ngIf",e.postForm.get("title").hasError("required")),s.Bb(2),s.zc("",i.value.length," / 40"),s.Bb(4),s.ic("formControlName","body"),s.Bb(1),s.ic("ngIf",e.postForm.get("body").hasError("required")),s.Bb(2),s.ic("routerLink",s.jc(12,T))}},directives:[v.a,g.a,S.a,O.a,c.s,c.m,c.f,C.c,C.g,j.b,c.c,L.b,c.l,c.e,L.d,C.h,L.a,n.l,c.h,C.f,R.a,b.e,C.b],styles:[""]}),E),z=r("quSY");function Z(t,e){1&t&&(s.Sb(0,"mat-error"),s.xc(1," Date of Post is required "),s.Rb())}function _(t,e){1&t&&(s.Sb(0,"mat-error"),s.xc(1," Title of Post is required "),s.Rb())}function J(t,e){1&t&&(s.Sb(0,"mat-error"),s.xc(1," Body of Post is required "),s.Rb())}var K=function(){return["/","posts"]};function X(t,e){if(1&t){var o=s.Tb();s.Sb(0,"div"),s.Sb(1,"app-page-header"),s.Nb(2,"app-page-header-back",1),s.Sb(3,"app-page-header-title",2),s.ec(4,"date"),s.xc(5),s.Rb(),s.Sb(6,"button",3),s.Zb("click",(function(){s.oc(o);var t=e.ngIf;return s.dc().delete(t.id)})),s.Sb(7,"mat-icon"),s.xc(8,"delete"),s.Rb(),s.Rb(),s.Rb(),s.Sb(9,"div",4),s.Sb(10,"div",5),s.Sb(11,"mat-card"),s.Sb(12,"form",6),s.Zb("submit",(function(){return s.oc(o),s.dc().onPostFormSubmit()})),s.Sb(13,"mat-form-field",7),s.Sb(14,"mat-label"),s.xc(15,"Choose a date"),s.Rb(),s.Nb(16,"input",8),s.Nb(17,"mat-datepicker-toggle",9),s.Nb(18,"mat-datepicker",null,10),s.wc(20,Z,2,0,"mat-error",0),s.Rb(),s.Sb(21,"mat-form-field",7),s.Sb(22,"mat-label"),s.xc(23,"Post Title"),s.Rb(),s.Nb(24,"input",11,12),s.wc(26,_,2,0,"mat-error",0),s.Sb(27,"mat-hint",13),s.xc(28),s.Rb(),s.Rb(),s.Sb(29,"mat-form-field",7),s.Sb(30,"mat-label"),s.xc(31,"Body"),s.Rb(),s.Nb(32,"textarea",14),s.wc(33,J,2,0,"mat-error",0),s.Rb(),s.Sb(34,"div",15),s.Sb(35,"button",16),s.xc(36,"Cancel"),s.Rb(),s.Sb(37,"button",17),s.xc(38,"Submit"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()}if(2&t){var i=e.ngIf,r=s.mc(19),a=s.mc(25),n=s.dc();s.Bb(2),s.ic("link","/posts/list"),s.Bb(1),s.ic("addons",s.fc(4,14,i.date)),s.Bb(2),s.yc(i.title),s.Bb(7),s.ic("formGroup",n.postForm),s.Bb(4),s.ic("formControlName","date")("matDatepicker",r),s.Bb(1),s.ic("for",r),s.Bb(3),s.ic("ngIf",n.postForm.get("date").hasError("required")),s.Bb(4),s.ic("formControlName","title"),s.Bb(2),s.ic("ngIf",n.postForm.get("title").hasError("required")),s.Bb(2),s.zc("",a.value.length," / 40"),s.Bb(4),s.ic("formControlName","body"),s.Bb(1),s.ic("ngIf",n.postForm.get("body").hasError("required")),s.Bb(2),s.ic("routerLink",s.jc(16,K))}}var Y,A=((Y=function(){function t(e,i,r,a){o(this,t),this.activatedRoute=e,this.formBuilder=i,this.store=r,this.notification=a,this.subscriptions=new z.a}return e(t,[{key:"ngOnInit",value:function(){var t=this;this.activatedRoute.params.subscribe((function(e){t.post$=t.store.pipe(Object(p.t)(h(e.id))),t.subscriptions.add(t.post$.subscribe((function(o){t.postForm=t.createPostFormGroup(o),o||t.store.dispatch(Object(l.i)({id:e.id}))})))}))}},{key:"onPostFormSubmit",value:function(){this.postForm.valid?this.store.dispatch(Object(l.m)({updatePost:{id:this.postForm.controls.id.value,changes:this.postForm.value}})):this.notification.showError("Form contains errors. Fix it and try again.")}},{key:"delete",value:function(t){this.store.dispatch(Object(l.d)({id:t}))}},{key:"createPostFormGroup",value:function(t){return this.formBuilder.group({id:[t?t.id:null,c.r.required],date:[t?t.date:new Date,c.r.required],title:[t?t.title:"",c.r.required],body:[t?t.body:"",c.r.required]})}},{key:"canDeactivate",value:function(){return!this.postForm.dirty}},{key:"ngOnDestroy",value:function(){this.subscriptions.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Y)(s.Mb(b.a),s.Mb(c.d),s.Mb(p.h),s.Mb(q.a))},Y.\u0275cmp=s.Gb({type:Y,selectors:[["app-post-update"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to Posts List",3,"link"],[3,"addons"],["mat-icon-button","","color","warn","aria-label","Delete Post",1,"ml-auto",3,"click"],[1,"page-content"],[1,"squeeze"],[3,"formGroup","submit"],[1,"w-100"],["matInput","",3,"formControlName","matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","maxlength","40",3,"formControlName"],["title",""],["align","end"],["matInput","","rows","10",3,"formControlName"],[1,"text-right"],["mat-button","","type","button",3,"routerLink"],["mat-flat-button","","color","primary","type","submit"]],template:function(t,e){1&t&&(s.wc(0,X,39,17,"div",0),s.ec(1,"async")),2&t&&s.ic("ngIf",s.fc(1,1,e.post$))},directives:[n.l,v.a,g.a,S.a,R.a,y.a,O.a,c.s,c.m,c.f,C.c,C.g,j.b,c.c,L.b,c.l,c.e,L.d,C.h,L.a,c.h,C.f,b.e,C.b],pipes:[n.b,n.e],styles:[""]}),Y),Q=r("IzEk"),U=function(t){return["/","posts",t,"update"]};function V(t,e){if(1&t){var o=s.Tb();s.Sb(0,"div"),s.Sb(1,"app-page-header"),s.Nb(2,"app-page-header-back",1),s.Sb(3,"app-page-header-title",2),s.ec(4,"date"),s.xc(5),s.Rb(),s.Sb(6,"button",3),s.Sb(7,"mat-icon"),s.xc(8,"edit"),s.Rb(),s.Rb(),s.Sb(9,"button",4),s.Zb("click",(function(){s.oc(o);var t=e.ngIf;return s.dc().delete(t.id)})),s.Sb(10,"mat-icon"),s.xc(11,"delete"),s.Rb(),s.Rb(),s.Rb(),s.Sb(12,"div",5),s.xc(13),s.Rb(),s.Rb()}if(2&t){var i=e.ngIf;s.Bb(2),s.ic("link","/posts/list"),s.Bb(1),s.ic("addons",s.fc(4,5,i.date)),s.Bb(2),s.yc(i.title),s.Bb(1),s.ic("routerLink",s.kc(7,U,i.id)),s.Bb(7),s.zc(" ",i.body," ")}}var W,H,tt,et=((W=function(){function t(e,i){o(this,t),this.activatedRoute=e,this.store=i}return e(t,[{key:"ngOnInit",value:function(){var t=this;this.activatedRoute.params.subscribe((function(e){t.post$=t.store.pipe(Object(p.t)(h(e.id))),t.post$.pipe(Object(Q.a)(1)).subscribe((function(o){return!o&&t.store.dispatch(Object(l.i)({id:e.id}))}))}))}},{key:"delete",value:function(t){this.store.dispatch(Object(l.d)({id:t}))}}]),t}()).\u0275fac=function(t){return new(t||W)(s.Mb(b.a),s.Mb(p.h))},W.\u0275cmp=s.Gb({type:W,selectors:[["app-post-details"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to Posts List",3,"link"],[3,"addons"],["mat-icon-button","","color","primary","aria-label","Edit Post",1,"ml-auto",3,"routerLink"],["mat-icon-button","","color","warn","aria-label","Delete Post",3,"click"],[1,"page-content"]],template:function(t,e){1&t&&(s.wc(0,V,14,9,"div",0),s.ec(1,"async")),2&t&&s.ic("ngIf",s.fc(1,1,e.post$))},directives:[n.l,v.a,g.a,S.a,R.a,b.e,y.a],pipes:[n.b,n.e],styles:[""]}),W),ot=r("udBE"),it=[{path:"",component:u,children:[{path:"",redirectTo:"list",pathMatch:"full"},{path:"list",component:I},{path:"create",component:$,canDeactivate:[ot.a]},{path:":id/update",component:A,canDeactivate:[ot.a]},{path:":id",component:et}]}],rt=((H=function t(){o(this,t)}).\u0275mod=s.Kb({type:H}),H.\u0275inj=s.Jb({factory:function(t){return new(t||H)},imports:[[b.f.forChild(it)],b.f]}),H),at=r("PCNd"),nt=((tt=function t(){o(this,t)}).\u0275mod=s.Kb({type:tt}),tt.\u0275inj=s.Jb({factory:function(t){return new(t||tt)},imports:[[n.c,rt,at.a,c.p]]}),tt)}}])}();