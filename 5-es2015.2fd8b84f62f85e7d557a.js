(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{VY05:function(t,e,i){"use strict";i.r(e),i.d(e,"GameModule",(function(){return X}));var n=i("ofXK"),a=i("PCNd"),c=i("tyNb"),s=i("quSY"),o=i("/uUt"),r=i("l7P3"),d=i("6s34");const p=t=>t.game,l=Object(r.p)(p,t=>t.deck),b=Object(r.p)(p,t=>t.flipped),m=Object(r.p)(p,t=>t.matched),g=Object(r.p)(p,t=>t.justFlippedIdx),h=Object(r.p)(p,t=>t.move);function f(t,e){return t.toString()===e.toString()}var u=i("R0Ic");const _=Object(u.m)("listAnimation",[Object(u.l)("* => *",[Object(u.g)(":enter",[Object(u.k)({opacity:0}),Object(u.i)("60ms",Object(u.e)("600ms ease-out",Object(u.k)({opacity:1})))],{optional:!0}),Object(u.g)(":leave",Object(u.e)("200ms",Object(u.k)({opacity:0})),{optional:!0})])]);var v=i("AytR");function O(t){const e=new Audio(`${v.a.assetsPath}/audio/${t}`);e.load(),e.play()}var y=i("fXoL"),P=i("qXsx"),C=i("tgey"),w=i("hZJE"),k=i("NFeN");const j=function(t){return{"game-heading-icon_active":t}},M=function(t){return{"game-heading-text_active":t}};let x=(()=>{class t{set matched(t){this.innerMatched=t,this.justMatched=!0,setTimeout(()=>this.justMatched=!1,1e3)}get matched(){return this.innerMatched}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y.Eb({type:t,selectors:[["app-game-heading"]],inputs:{matched:"matched",move:"move",cards:"cards"},decls:8,vars:8,consts:[[1,"game-heading-icon","mr-1"],[1,"game-heading-text","mr-3"],[1,"game-heading-icon","mr-1",3,"ngClass"],[1,"game-heading-text","mr-3",3,"ngClass"]],template:function(t,e){1&t&&(y.Qb(0,"mat-icon",0),y.vc(1,"loop"),y.Pb(),y.Qb(2,"span",1),y.vc(3),y.Pb(),y.Qb(4,"mat-icon",2),y.vc(5,"emoji_events"),y.Pb(),y.Qb(6,"span",3),y.vc(7),y.Pb()),2&t&&(y.Ab(3),y.xc("#",e.move,""),y.Ab(1),y.gc("ngClass",y.ic(4,j,e.justMatched&&e.matched)),y.Ab(2),y.gc("ngClass",y.ic(6,M,e.justMatched&&e.matched)),y.Ab(1),y.wc(e.matched+"/"+e.cards/2))},directives:[k.a,n.i],styles:["[_nghost-%COMP%]{display:flex;align-items:center}.game-heading-icon[_ngcontent-%COMP%]{opacity:.33;transition:opacity .25s ease .3s,color .25s ease .3s}.game-heading-icon_active[_ngcontent-%COMP%]{opacity:1;color:#fdd835}.game-heading-text[_ngcontent-%COMP%]{font-weight:500;font-size:16px;transition:color .25s ease .3s}.game-heading-text_active[_ngcontent-%COMP%]{color:#fbc02d}"]}),t})();var A=i("zkoq");const Q=function(t){return{"animation-duration.ms":t}};let S=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y.Eb({type:t,selectors:[["app-pie-timer"]],inputs:{time:"time"},decls:4,vars:9,consts:[[1,"pie-timer","bg-body"],[1,"pie","spinner","bg-accent",3,"ngStyle"],[1,"pie","filler","bg-accent",3,"ngStyle"],[1,"mask",3,"ngStyle"]],template:function(t,e){1&t&&(y.Qb(0,"div",0),y.Lb(1,"div",1),y.Lb(2,"div",2),y.Lb(3,"div",3),y.Pb()),2&t&&(y.Ab(1),y.gc("ngStyle",y.ic(3,Q,e.time)),y.Ab(1),y.gc("ngStyle",y.ic(5,Q,e.time)),y.Ab(1),y.gc("ngStyle",y.ic(7,Q,e.time)))},directives:[n.l],styles:[".pie-timer[_ngcontent-%COMP%]{width:24px;height:24px;position:relative;margin:40px auto}.pie-timer[_ngcontent-%COMP%], .pie-timer[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.pie[_ngcontent-%COMP%]{width:50%;height:100%;transform-origin:100% 50%;position:absolute}.spinner[_ngcontent-%COMP%]{border-radius:100% 0 0 100%/50% 0 0 50%;z-index:200;border-right:0;-webkit-animation:rota 0s linear 1;animation:rota 0s linear 1}.filler[_ngcontent-%COMP%]{border-radius:0 100% 100% 0/0 50% 50% 0;left:50%;opacity:0;z-index:100;animation:opa 0s steps(1) 1 reverse;border-left:0}.mask[_ngcontent-%COMP%]{width:50%;height:100%;position:absolute;background:inherit;opacity:1;z-index:300;-webkit-animation:opa 0s steps(1) 1;animation:opa 0s steps(1) 1}@-webkit-keyframes rota{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes rota{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@-webkit-keyframes opa{0%{opacity:1}50%,to{opacity:0}}@keyframes opa{0%{opacity:1}50%,to{opacity:0}}"]}),t})();var z=i("Wp6s"),I=i("FKr1");const R=function(t){return{"card-container_matched":t}},$=function(t){return{"card-wrapper_disabled":t}},F=function(t){return{card_flipped:t}};let D=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=y.Eb({type:t,selectors:[["app-card"]],inputs:{card:"card",flipped:"flipped",matched:"matched",disabled:"disabled"},decls:9,vars:12,consts:[[1,"card-container",3,"ngClass"],[1,"card-wrapper",3,"ngClass"],[1,"card",3,"ngClass"],["matRipple","",1,"card__back",3,"matRippleDisabled"],[1,"card__icon"],[1,"card__face"],[3,"className"]],template:function(t,e){1&t&&(y.Qb(0,"div",0),y.Qb(1,"div",1),y.Qb(2,"div",2),y.Qb(3,"mat-card",3),y.Qb(4,"mat-icon",4),y.vc(5,"lightbulb_outline"),y.Pb(),y.Pb(),y.Qb(6,"mat-card",5),y.Qb(7,"mat-icon",6),y.vc(8),y.Pb(),y.Pb(),y.Pb(),y.Pb(),y.Pb()),2&t&&(y.gc("ngClass",y.ic(6,R,e.matched)),y.Ab(1),y.gc("ngClass",y.ic(8,$,e.disabled&&!e.flipped)),y.Ab(1),y.gc("ngClass",y.ic(10,F,e.flipped)),y.Ab(1),y.gc("matRippleDisabled",e.disabled||e.flipped),y.Ab(4),y.gc("className","card__icon card-color_"+e.card.color),y.Ab(1),y.xc(" ",e.card.suit," "))},directives:[n.i,z.a,I.f,k.a],styles:["[_nghost-%COMP%]{height:100%;width:100%}.card-wrapper[_ngcontent-%COMP%]{perspective:1000px;opacity:1;transition:opacity .3s}.card-wrapper_disabled[_ngcontent-%COMP%]{opacity:.5}.card[_ngcontent-%COMP%]{transform-style:preserve-3d;position:relative;transform:rotateY(0deg);transition:transform .3s}.card_flipped[_ngcontent-%COMP%]{transform:rotateY(180deg);transition-duration:.6s}.card-container_matched[_ngcontent-%COMP%]{-webkit-animation:ScaleAnimation .5s ease .3s;animation:ScaleAnimation .5s ease .3s}@-webkit-keyframes ScaleAnimation{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}@keyframes ScaleAnimation{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}.card[_ngcontent-%COMP%], .card-container[_ngcontent-%COMP%], .card-wrapper[_ngcontent-%COMP%], .card__back[_ngcontent-%COMP%], .card__face[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.card__icon[_ngcontent-%COMP%]{height:auto;width:auto;font-size:80px}.card__back[_ngcontent-%COMP%], .card__face[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute;top:0;left:0}.card__back[_ngcontent-%COMP%]{z-index:2;transform:rotateY(0deg);background-color:#90a4ae;color:hsla(0,0%,100%,.1)}.card__face[_ngcontent-%COMP%]{transform:rotateY(180deg);background-color:#fff;color:#455a64}"]}),t})();function T(t,e){if(1&t&&y.Lb(0,"app-pie-timer",8),2&t){const t=y.bc(2);y.gc("time",t.moveDelay)}}function L(t,e){if(1&t){const t=y.Rb();y.Qb(0,"mat-grid-tile",9),y.Qb(1,"app-card",10),y.Xb("click",(function(){y.mc(t);const i=e.index;return y.bc(2).onClickCard(i)})),y.Pb(),y.Pb()}if(2&t){const t=e.$implicit,i=e.index,n=y.bc(2);y.Ab(1),y.gc("card",t)("flipped",n.flipped[i])("matched",n.matched[i])("disabled",n.flippingDisabled)}}function N(t,e){if(1&t){const t=y.Rb();y.Qb(0,"div"),y.Qb(1,"app-page-header"),y.Lb(2,"app-page-header-back",1),y.Lb(3,"app-game-heading",2),y.cc(4,"async"),y.uc(5,T,1,1,"app-pie-timer",3),y.Pb(),y.Qb(6,"div",4),y.Qb(7,"div",5),y.Qb(8,"mat-grid-list",6),y.Xb("resize",(function(e){return y.mc(t),y.bc().onResize(e)}),!1,y.lc),y.uc(9,L,2,4,"mat-grid-tile",7),y.Pb(),y.Pb(),y.Pb(),y.Pb()}if(2&t){const t=e.ngIf,i=y.bc();y.Ab(2),y.gc("link","/"),y.Ab(1),y.gc("move",y.dc(4,8,i.move$))("matched",i.matchedPairs)("cards",t.length),y.Ab(2),y.gc("ngIf",i.timeForRemember),y.Ab(3),y.gc("cols",i.columns)("@listAnimation",t.length),y.Ab(1),y.gc("ngForOf",t)}}const Y=[{path:"",component:(()=>{class t{constructor(e,i){this.store=e,this.notification=i,this.moveDelay=3e3,this.columns=t.getColumns(window.innerWidth),this.subscription=new s.a,this.flippingDisabled=!1,e.dispatch(Object(d.d)()),this.deck$=e.pipe(Object(r.s)(l)),this.flipped$=e.pipe(Object(r.s)(b),Object(o.a)((t,e)=>f(t,e))),this.matched$=e.pipe(Object(r.s)(m),Object(o.a)((t,e)=>f(t,e))),this.move$=e.pipe(Object(r.s)(h),Object(o.a)()),this.justFlippedCardIdx$=e.pipe(Object(r.s)(g))}static getColumns(t){let e;return e=t>=992?6:t>=768?4:3,e}onClickCard(t){!1===this.flipped[t]&&!1===this.flippingDisabled&&this.store.dispatch(Object(d.a)({cardIndex:t}))}ngOnInit(){this.subscription.add(this.justFlippedCardIdx$.subscribe(t=>{2===t.length?(this.flippingDisabled=!0,this.timeForRemember=!0,this.delayTimeout=setTimeout(()=>{this.store.dispatch(Object(d.g)()),this.timeForRemember=!1},3e3)):this.flippingDisabled=!1})),this.subscription.add(this.flipped$.subscribe(t=>{void 0!==this.flipped&&O("card.wav"),this.flipped=t})),this.subscription.add(this.matched$.subscribe(t=>{void 0!==this.matched&&setTimeout(()=>O("success.flac"),333),this.matched=t,this.matchedPairs=t.filter(t=>t).length/2,t.every(t=>t)?setTimeout(()=>{O("win.wav"),this.notification.showSuccess("All pairs matched!",2600)},600):this.delayTimeout&&(this.timeForRemember=!1,setTimeout(()=>{clearTimeout(this.delayTimeout),this.store.dispatch(Object(d.g)())},500))}))}ngOnDestroy(){this.subscription.unsubscribe()}onResize(e){this.columns=t.getColumns(e.target.innerWidth)}}return t.\u0275fac=function(e){return new(e||t)(y.Kb(r.h),y.Kb(P.a))},t.\u0275cmp=y.Eb({type:t,selectors:[["app-game"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to homepage",3,"link"],[3,"move","matched","cards"],[3,"time",4,"ngIf"],[1,"page-content","game-content"],[1,"container"],["rowHeight","1:1.2","gutterSize","16px",3,"cols","resize"],["class","overflow-visible",4,"ngFor","ngForOf"],[3,"time"],[1,"overflow-visible"],[3,"card","flipped","matched","disabled","click"]],template:function(t,e){1&t&&(y.uc(0,N,10,10,"div",0),y.cc(1,"async")),2&t&&y.gc("ngIf",y.dc(1,1,e.deck$))},directives:[n.k,C.a,w.a,x,A.a,n.j,S,A.c,D],pipes:[n.b],styles:[".game-content[_ngcontent-%COMP%], [_nghost-%COMP%]{flex-grow:1;display:flex;flex-direction:column}"],data:{animation:[_]}}),t})()}];let E=(()=>{class t{}return t.\u0275mod=y.Ib({type:t}),t.\u0275inj=y.Hb({factory:function(e){return new(e||t)},imports:[[c.f.forChild(Y)],c.f]}),t})(),X=(()=>{class t{}return t.\u0275mod=y.Ib({type:t}),t.\u0275inj=y.Hb({factory:function(e){return new(e||t)},imports:[[n.c,a.a,E]]}),t})()}}]);