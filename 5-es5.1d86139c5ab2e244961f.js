!function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{VY05:function(n,i,c){"use strict";c.r(i),c.d(i,"GameModule",(function(){return R}));var a=c("ofXK"),r=c("PCNd"),o=c("tyNb"),s=c("quSY"),d=c("/uUt"),p=c("l7P3"),b=c("6s34"),u=function(t){return t.game},l=Object(p.p)(u,(function(t){return t.deck})),f=Object(p.p)(u,(function(t){return t.flipped})),g=Object(p.p)(u,(function(t){return t.matched})),m=Object(p.p)(u,(function(t){return t.justFlippedIdx})),h=Object(p.p)(u,(function(t){return t.move}));function v(t,e){return t.toString()===e.toString()}var _,y=c("fXoL"),O=c("qXsx"),P=c("tgey"),C=c("hZJE"),k=c("NFeN"),w=c("zkoq"),j=c("Wp6s"),x=function(t){return{"card-wrapper_disabled":t}},M=function(t){return{card_flipped:t}},I=((_=function t(){e(this,t)}).\u0275fac=function(t){return new(t||_)},_.\u0275cmp=y.Eb({type:_,selectors:[["app-card"]],inputs:{card:"card",flipped:"flipped",disabled:"disabled"},decls:8,vars:8,consts:[[1,"card-wrapper",3,"ngClass"],[1,"card","flipper",3,"ngClass"],[1,"card__back"],[1,"card__icon"],[1,"card__face"],[3,"className"]],template:function(t,e){1&t&&(y.Qb(0,"div",0),y.Qb(1,"div",1),y.Qb(2,"mat-card",2),y.Qb(3,"mat-icon",3),y.vc(4,"lightbulb_outline"),y.Pb(),y.Pb(),y.Qb(5,"mat-card",4),y.Qb(6,"mat-icon",5),y.vc(7),y.Pb(),y.Pb(),y.Pb(),y.Pb()),2&t&&(y.gc("ngClass",y.ic(4,x,e.disabled&&!e.flipped)),y.Ab(1),y.gc("ngClass",y.ic(6,M,e.flipped)),y.Ab(5),y.gc("className","card__icon card-color_"+e.card.color),y.Ab(1),y.xc(" ",e.card.suit," "))},directives:[a.i,j.a,k.a],styles:["[_nghost-%COMP%]{height:100%;width:100%}.card-wrapper[_ngcontent-%COMP%]{perspective:1000px;opacity:1;transition:opacity .3s ease-in-out}.card-wrapper_disabled[_ngcontent-%COMP%]{opacity:.5}.card[_ngcontent-%COMP%]{transform-style:preserve-3d;position:relative;transform:rotateY(0deg);transition:transform .3s ease-in-out}.card_flipped[_ngcontent-%COMP%]{transform:rotateY(180deg);transition-duration:.6s}.card[_ngcontent-%COMP%], .card-wrapper[_ngcontent-%COMP%], .card__back[_ngcontent-%COMP%], .card__face[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.card__icon[_ngcontent-%COMP%]{height:auto;width:auto;font-size:80px}.card__back[_ngcontent-%COMP%], .card__face[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute;top:0;left:0}.card__back[_ngcontent-%COMP%]{z-index:2;transform:rotateY(0deg);background-color:#90a4ae;color:hsla(0,0%,100%,.1)}.card__face[_ngcontent-%COMP%]{transform:rotateY(180deg);background-color:#fff;color:#455a64}"]}),_);function Q(t,e){if(1&t){var n=y.Rb();y.Qb(0,"mat-grid-tile",9),y.Qb(1,"app-card",10),y.Xb("click",(function(){y.mc(n);var t=e.index,i=y.bc().ngIf;return y.bc(2).onClickCard(t,i[t])})),y.Pb(),y.Pb()}if(2&t){var i=e.$implicit,c=e.index,a=y.bc().ngIf,r=y.bc(2);y.Ab(1),y.gc("card",i)("flipped",a[c])("disabled",r.flippingDisabled)}}function A(t,e){if(1&t){var n=y.Rb();y.Qb(0,"div",6),y.Qb(1,"mat-grid-list",7),y.Xb("resize",(function(t){return y.mc(n),y.bc(2).onResize(t)}),!1,y.lc),y.uc(2,Q,2,3,"mat-grid-tile",8),y.Pb(),y.Pb()}if(2&t){var i=y.bc().ngIf,c=y.bc();y.Ab(1),y.gc("cols",c.columns),y.Ab(1),y.gc("ngForOf",i)}}function $(t,e){if(1&t&&(y.Qb(0,"div"),y.Qb(1,"app-page-header"),y.Lb(2,"app-page-header-back",1),y.Qb(3,"mat-icon",2),y.vc(4,"loop"),y.Pb(),y.vc(5),y.cc(6,"async"),y.Qb(7,"mat-icon",3),y.vc(8,"emoji_events"),y.Pb(),y.vc(9),y.Pb(),y.Qb(10,"div",4),y.uc(11,A,3,2,"div",5),y.cc(12,"async"),y.Pb(),y.Pb()),2&t){var n=e.ngIf,i=y.bc();y.Ab(2),y.gc("link","/"),y.Ab(3),y.xc(" #",y.dc(6,4,i.move$)," "),y.Ab(4),y.xc(" ",i.matchedPairs+"/"+n.length/2," "),y.Ab(2),y.gc("ngIf",y.dc(12,6,i.flipped$))}}var z,T,D,F=[{path:"",component:(z=function(){function n(t,i){e(this,n),this.store=t,this.notification=i,this.columns=n.getColumns(window.innerWidth),this.subscription=new s.a,this.flippingDisabled=!1,t.dispatch(Object(b.d)()),this.deck$=t.pipe(Object(p.s)(l)),this.flipped$=t.pipe(Object(p.s)(f),Object(d.a)((function(t,e){return v(t,e)}))),this.matched$=t.pipe(Object(p.s)(g),Object(d.a)((function(t,e){return v(t,e)}))),this.move$=t.pipe(Object(p.s)(h)),this.justFlippedCardIdx$=t.pipe(Object(p.s)(m))}var i,c,a;return i=n,a=[{key:"getColumns",value:function(t){return t>=992?6:t>=768?4:3}}],(c=[{key:"onClickCard",value:function(t,e){!1===e&&!1===this.flippingDisabled&&this.store.dispatch(Object(b.a)({cardIndex:t}))}},{key:"ngOnInit",value:function(){var t=this;this.subscription.add(this.justFlippedCardIdx$.subscribe((function(e){2===e.length?(t.flippingDisabled=!0,t.delayTimeout=setTimeout((function(){return t.store.dispatch(Object(b.g)())}),2e3)):t.flippingDisabled=!1}))),this.subscription.add(this.matched$.subscribe((function(e){t.matchedPairs=e.filter((function(t){return t})).length/2,e.every((function(t){return t}))?setTimeout((function(){return t.notification.showSuccess("All pairs matched!",2600)}),550):t.delayTimeout&&setTimeout((function(){clearTimeout(t.delayTimeout),t.store.dispatch(Object(b.g)())}),500)})))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onResize",value:function(t){this.columns=n.getColumns(t.target.innerWidth)}}])&&t(i.prototype,c),a&&t(i,a),n}(),z.\u0275fac=function(t){return new(t||z)(y.Kb(p.h),y.Kb(O.a))},z.\u0275cmp=y.Eb({type:z,selectors:[["app-game"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to homepage",3,"link"],[1,"opacity-5","mr-1"],[1,"opacity-5","ml-3","mr-1"],[1,"page-content","game-content"],["class","container",4,"ngIf"],[1,"container"],["rowHeight","1:1.25","gutterSize","16px",3,"cols","resize"],["class","overflow-visible",4,"ngFor","ngForOf"],[1,"overflow-visible"],[3,"card","flipped","disabled","click"]],template:function(t,e){1&t&&(y.uc(0,$,13,8,"div",0),y.cc(1,"async")),2&t&&y.gc("ngIf",y.dc(1,1,e.deck$))},directives:[a.k,P.a,C.a,k.a,w.a,a.j,w.c,I],pipes:[a.b],styles:[".game-content[_ngcontent-%COMP%], [_nghost-%COMP%]{flex-grow:1;display:flex;flex-direction:column}"]}),z)}],N=((T=function t(){e(this,t)}).\u0275mod=y.Ib({type:T}),T.\u0275inj=y.Hb({factory:function(t){return new(t||T)},imports:[[o.f.forChild(F)],o.f]}),T),Y=c("oDRm"),R=((D=function t(){e(this,t)}).\u0275mod=y.Ib({type:D}),D.\u0275inj=y.Hb({factory:function(t){return new(t||D)},providers:[Y.a],imports:[[a.c,r.a,N]]}),D)}}])}();