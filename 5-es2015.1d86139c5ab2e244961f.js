(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{VY05:function(t,e,c){"use strict";c.r(e),c.d(e,"GameModule",(function(){return z}));var i=c("ofXK"),n=c("PCNd"),a=c("tyNb"),s=c("quSY"),o=c("/uUt"),r=c("l7P3"),d=c("6s34");const p=t=>t.game,b=Object(r.p)(p,t=>t.deck),l=Object(r.p)(p,t=>t.flipped),g=Object(r.p)(p,t=>t.matched),f=Object(r.p)(p,t=>t.justFlippedIdx),u=Object(r.p)(p,t=>t.move);function h(t,e){return t.toString()===e.toString()}var m=c("fXoL"),_=c("qXsx"),O=c("tgey"),v=c("hZJE"),P=c("NFeN"),C=c("zkoq"),y=c("Wp6s");const w=function(t){return{"card-wrapper_disabled":t}},j=function(t){return{card_flipped:t}};let k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=m.Eb({type:t,selectors:[["app-card"]],inputs:{card:"card",flipped:"flipped",disabled:"disabled"},decls:8,vars:8,consts:[[1,"card-wrapper",3,"ngClass"],[1,"card","flipper",3,"ngClass"],[1,"card__back"],[1,"card__icon"],[1,"card__face"],[3,"className"]],template:function(t,e){1&t&&(m.Qb(0,"div",0),m.Qb(1,"div",1),m.Qb(2,"mat-card",2),m.Qb(3,"mat-icon",3),m.vc(4,"lightbulb_outline"),m.Pb(),m.Pb(),m.Qb(5,"mat-card",4),m.Qb(6,"mat-icon",5),m.vc(7),m.Pb(),m.Pb(),m.Pb(),m.Pb()),2&t&&(m.gc("ngClass",m.ic(4,w,e.disabled&&!e.flipped)),m.Ab(1),m.gc("ngClass",m.ic(6,j,e.flipped)),m.Ab(5),m.gc("className","card__icon card-color_"+e.card.color),m.Ab(1),m.xc(" ",e.card.suit," "))},directives:[i.i,y.a,P.a],styles:["[_nghost-%COMP%]{height:100%;width:100%}.card-wrapper[_ngcontent-%COMP%]{perspective:1000px;opacity:1;transition:opacity .3s ease-in-out}.card-wrapper_disabled[_ngcontent-%COMP%]{opacity:.5}.card[_ngcontent-%COMP%]{transform-style:preserve-3d;position:relative;transform:rotateY(0deg);transition:transform .3s ease-in-out}.card_flipped[_ngcontent-%COMP%]{transform:rotateY(180deg);transition-duration:.6s}.card[_ngcontent-%COMP%], .card-wrapper[_ngcontent-%COMP%], .card__back[_ngcontent-%COMP%], .card__face[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.card__icon[_ngcontent-%COMP%]{height:auto;width:auto;font-size:80px}.card__back[_ngcontent-%COMP%], .card__face[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute;top:0;left:0}.card__back[_ngcontent-%COMP%]{z-index:2;transform:rotateY(0deg);background-color:#90a4ae;color:hsla(0,0%,100%,.1)}.card__face[_ngcontent-%COMP%]{transform:rotateY(180deg);background-color:#fff;color:#455a64}"]}),t})();function x(t,e){if(1&t){const t=m.Rb();m.Qb(0,"mat-grid-tile",9),m.Qb(1,"app-card",10),m.Xb("click",(function(){m.mc(t);const c=e.index,i=m.bc().ngIf;return m.bc(2).onClickCard(c,i[c])})),m.Pb(),m.Pb()}if(2&t){const t=e.$implicit,c=e.index,i=m.bc().ngIf,n=m.bc(2);m.Ab(1),m.gc("card",t)("flipped",i[c])("disabled",n.flippingDisabled)}}function M(t,e){if(1&t){const t=m.Rb();m.Qb(0,"div",6),m.Qb(1,"mat-grid-list",7),m.Xb("resize",(function(e){return m.mc(t),m.bc(2).onResize(e)}),!1,m.lc),m.uc(2,x,2,3,"mat-grid-tile",8),m.Pb(),m.Pb()}if(2&t){const t=m.bc().ngIf,e=m.bc();m.Ab(1),m.gc("cols",e.columns),m.Ab(1),m.gc("ngForOf",t)}}function I(t,e){if(1&t&&(m.Qb(0,"div"),m.Qb(1,"app-page-header"),m.Lb(2,"app-page-header-back",1),m.Qb(3,"mat-icon",2),m.vc(4,"loop"),m.Pb(),m.vc(5),m.cc(6,"async"),m.Qb(7,"mat-icon",3),m.vc(8,"emoji_events"),m.Pb(),m.vc(9),m.Pb(),m.Qb(10,"div",4),m.uc(11,M,3,2,"div",5),m.cc(12,"async"),m.Pb(),m.Pb()),2&t){const t=e.ngIf,c=m.bc();m.Ab(2),m.gc("link","/"),m.Ab(3),m.xc(" #",m.dc(6,4,c.move$)," "),m.Ab(4),m.xc(" ",c.matchedPairs+"/"+t.length/2," "),m.Ab(2),m.gc("ngIf",m.dc(12,6,c.flipped$))}}const Q=[{path:"",component:(()=>{class t{constructor(e,c){this.store=e,this.notification=c,this.columns=t.getColumns(window.innerWidth),this.subscription=new s.a,this.flippingDisabled=!1,e.dispatch(Object(d.d)()),this.deck$=e.pipe(Object(r.s)(b)),this.flipped$=e.pipe(Object(r.s)(l),Object(o.a)((t,e)=>h(t,e))),this.matched$=e.pipe(Object(r.s)(g),Object(o.a)((t,e)=>h(t,e))),this.move$=e.pipe(Object(r.s)(u)),this.justFlippedCardIdx$=e.pipe(Object(r.s)(f))}static getColumns(t){let e;return e=t>=992?6:t>=768?4:3,e}onClickCard(t,e){!1===e&&!1===this.flippingDisabled&&this.store.dispatch(Object(d.a)({cardIndex:t}))}ngOnInit(){this.subscription.add(this.justFlippedCardIdx$.subscribe(t=>{2===t.length?(this.flippingDisabled=!0,this.delayTimeout=setTimeout(()=>this.store.dispatch(Object(d.g)()),2e3)):this.flippingDisabled=!1})),this.subscription.add(this.matched$.subscribe(t=>{this.matchedPairs=t.filter(t=>t).length/2,t.every(t=>t)?setTimeout(()=>this.notification.showSuccess("All pairs matched!",2600),550):this.delayTimeout&&setTimeout(()=>{clearTimeout(this.delayTimeout),this.store.dispatch(Object(d.g)())},500)}))}ngOnDestroy(){this.subscription.unsubscribe()}onResize(e){this.columns=t.getColumns(e.target.innerWidth)}}return t.\u0275fac=function(e){return new(e||t)(m.Kb(r.h),m.Kb(_.a))},t.\u0275cmp=m.Eb({type:t,selectors:[["app-game"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to homepage",3,"link"],[1,"opacity-5","mr-1"],[1,"opacity-5","ml-3","mr-1"],[1,"page-content","game-content"],["class","container",4,"ngIf"],[1,"container"],["rowHeight","1:1.25","gutterSize","16px",3,"cols","resize"],["class","overflow-visible",4,"ngFor","ngForOf"],[1,"overflow-visible"],[3,"card","flipped","disabled","click"]],template:function(t,e){1&t&&(m.uc(0,I,13,8,"div",0),m.cc(1,"async")),2&t&&m.gc("ngIf",m.dc(1,1,e.deck$))},directives:[i.k,O.a,v.a,P.a,C.a,i.j,C.c,k],pipes:[i.b],styles:[".game-content[_ngcontent-%COMP%], [_nghost-%COMP%]{flex-grow:1;display:flex;flex-direction:column}"]}),t})()}];let A=(()=>{class t{}return t.\u0275mod=m.Ib({type:t}),t.\u0275inj=m.Hb({factory:function(e){return new(e||t)},imports:[[a.f.forChild(Q)],a.f]}),t})();var $=c("oDRm");let z=(()=>{class t{}return t.\u0275mod=m.Ib({type:t}),t.\u0275inj=m.Hb({factory:function(e){return new(e||t)},providers:[$.a],imports:[[i.c,n.a,A]]}),t})()}}]);