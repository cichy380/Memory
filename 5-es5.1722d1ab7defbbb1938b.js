!function(){function t(t,n){for(var e=0;e<n.length;e++){var c=n[e];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function n(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{VY05:function(e,c,i){"use strict";i.r(c),i.d(c,"GameModule",(function(){return N}));var r,a=i("ofXK"),o=i("PCNd"),s=i("tyNb"),d=i("quSY"),p=i("l7P3"),b=i("6s34"),u=function(t){return t.game},f=Object(p.p)(u,(function(t){return t.deck})),l=Object(p.p)(u,(function(t){return t.flipped})),g=Object(p.p)(u,(function(t){return t.matched})),h=Object(p.p)(u,(function(t){return t.justFlippedIdx})),m=Object(p.p)(u,(function(t){return t.round})),v=i("fXoL"),_=i("tgey"),P=i("hZJE"),O=i("+QYo"),C=i("zkoq"),k=i("Wp6s"),y=i("NFeN"),w=function(t){return{card_flipped:t}},j=((r=function t(){n(this,t)}).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=v.Eb({type:r,selectors:[["app-card"]],inputs:{card:"card",flipped:"flipped"},decls:8,vars:5,consts:[[1,"card-wrapper"],[1,"card","flipper",3,"ngClass"],[1,"card__back"],[1,"card__icon"],[1,"card__face"],[3,"className"]],template:function(t,n){1&t&&(v.Qb(0,"div",0),v.Qb(1,"div",1),v.Qb(2,"mat-card",2),v.Qb(3,"mat-icon",3),v.vc(4,"lightbulb_outline"),v.Pb(),v.Pb(),v.Qb(5,"mat-card",4),v.Qb(6,"mat-icon",5),v.vc(7),v.Pb(),v.Pb(),v.Pb(),v.Pb()),2&t&&(v.Ab(1),v.gc("ngClass",v.ic(3,w,n.flipped)),v.Ab(5),v.gc("className","card__icon card-color_"+n.card.color),v.Ab(1),v.xc(" ",n.card.suit," "))},directives:[a.i,k.a,y.a],styles:["[_nghost-%COMP%]{height:100%;width:100%}.card-wrapper[_ngcontent-%COMP%]{perspective:1000px}.card[_ngcontent-%COMP%]{transform-style:preserve-3d;position:relative;transform:rotateY(0deg);transition:transform .3s ease-in-out}.card_flipped[_ngcontent-%COMP%]{transform:rotateY(180deg);transition-duration:.6s}.card[_ngcontent-%COMP%], .card-wrapper[_ngcontent-%COMP%], .card__back[_ngcontent-%COMP%], .card__face[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.card__icon[_ngcontent-%COMP%]{height:auto;width:auto;font-size:80px}.card__back[_ngcontent-%COMP%], .card__face[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute;top:0;left:0}.card__back[_ngcontent-%COMP%]{z-index:2;transform:rotateY(0deg);background-color:#90a4ae;color:hsla(0,0%,100%,.1)}.card__face[_ngcontent-%COMP%]{transform:rotateY(180deg);background-color:#fff;color:#455a64}"]}),r);function x(t,n){if(1&t){var e=v.Rb();v.Qb(0,"mat-grid-tile",8),v.Qb(1,"app-card",9),v.Xb("click",(function(){v.mc(e);var t=n.index,c=v.bc().ngIf;return v.bc(2).onClickCard(t,c[t])})),v.Pb(),v.Pb()}if(2&t){var c=n.$implicit,i=n.index,r=v.bc().ngIf;v.Ab(1),v.gc("card",c)("flipped",r[i])}}function I(t,n){if(1&t){var e=v.Rb();v.Qb(0,"div",5),v.Qb(1,"mat-grid-list",6),v.Xb("resize",(function(t){return v.mc(e),v.bc(2).onResize(t)}),!1,v.lc),v.uc(2,x,2,2,"mat-grid-tile",7),v.Pb(),v.Pb()}if(2&t){var c=v.bc().ngIf,i=v.bc();v.Ab(1),v.gc("cols",i.columns),v.Ab(1),v.gc("ngForOf",c)}}function M(t,n){if(1&t&&(v.Qb(0,"div"),v.Qb(1,"app-page-header"),v.Lb(2,"app-page-header-back",1),v.Qb(3,"app-page-header-title",2),v.vc(4),v.cc(5,"async"),v.Pb(),v.Pb(),v.Qb(6,"div",3),v.uc(7,I,3,2,"div",4),v.cc(8,"async"),v.Pb(),v.Pb()),2&t){var e=n.ngIf,c=v.bc();v.Ab(2),v.gc("link","/"),v.Ab(1),v.gc("addons","Matched pairs: "+c.matchedPairs+"/"+e.length/2),v.Ab(1),v.xc(" Moves #",v.dc(5,4,c.round$)," "),v.Ab(3),v.gc("ngIf",v.dc(8,6,c.flipped$))}}var Q,$,A,F=[{path:"",component:(Q=function(){function e(t){n(this,e),this.store=t,this.subscription=new d.a,t.dispatch(Object(b.d)()),this.deck$=t.pipe(Object(p.s)(f)),this.flipped$=t.pipe(Object(p.s)(l)),this.matched$=t.pipe(Object(p.s)(g)),this.round$=t.pipe(Object(p.s)(m)),this.justFlippedCardIdx$=t.pipe(Object(p.s)(h)),this.justFlippedCardIdx=[]}var c,i,r;return c=e,r=[{key:"getColumns",value:function(t){return t>=992?6:t>=768?4:3}}],(i=[{key:"onClickCard",value:function(t,n){!1===n&&this.justFlippedCardIdx.length<2&&this.store.dispatch(Object(b.a)({cardIndex:t}))}},{key:"ngOnInit",value:function(){var t=this;this.columns=e.getColumns(window.innerWidth),this.subscription.add(this.justFlippedCardIdx$.subscribe((function(n){t.justFlippedCardIdx=n,2===n.length&&setTimeout((function(){return t.store.dispatch(Object(b.g)())}),2e3)}))),this.subscription.add(this.matched$.subscribe((function(n){t.matchedPairs=n.filter((function(t){return t})).length/2})))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onResize",value:function(t){this.columns=e.getColumns(t.target.innerWidth)}}])&&t(c.prototype,i),r&&t(c,r),e}(),Q.\u0275fac=function(t){return new(t||Q)(v.Kb(p.h))},Q.\u0275cmp=v.Eb({type:Q,selectors:[["app-game"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to homepage",3,"link"],[3,"addons"],[1,"page-content","game-content"],["class","container",4,"ngIf"],[1,"container"],["rowHeight","1:1.25","gutterSize","16px",3,"cols","resize"],["class","overflow-visible",4,"ngFor","ngForOf"],[1,"overflow-visible"],[3,"card","flipped","click"]],template:function(t,n){1&t&&(v.uc(0,M,9,8,"div",0),v.cc(1,"async")),2&t&&v.gc("ngIf",v.dc(1,1,n.deck$))},directives:[a.k,_.a,P.a,O.a,C.a,a.j,C.c,j],pipes:[a.b],styles:[".game-content[_ngcontent-%COMP%], [_nghost-%COMP%]{flex-grow:1;display:flex;flex-direction:column}"]}),Q)}],z=(($=function t(){n(this,t)}).\u0275mod=v.Ib({type:$}),$.\u0275inj=v.Hb({factory:function(t){return new(t||$)},imports:[[s.f.forChild(F)],s.f]}),$),Y=i("oDRm"),N=((A=function t(){n(this,t)}).\u0275mod=v.Ib({type:A}),A.\u0275inj=v.Hb({factory:function(t){return new(t||A)},providers:[Y.a],imports:[[a.c,o.a,z]]}),A)}}])}();