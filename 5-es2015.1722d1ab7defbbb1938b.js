(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{VY05:function(t,e,c){"use strict";c.r(e),c.d(e,"GameModule",(function(){return Q}));var n=c("ofXK"),i=c("PCNd"),a=c("tyNb"),r=c("quSY"),s=c("l7P3"),o=c("6s34");const d=t=>t.game,p=Object(s.p)(d,t=>t.deck),b=Object(s.p)(d,t=>t.flipped),l=Object(s.p)(d,t=>t.matched),g=Object(s.p)(d,t=>t.justFlippedIdx),f=Object(s.p)(d,t=>t.round);var u=c("fXoL"),h=c("tgey"),m=c("hZJE"),_=c("+QYo"),P=c("zkoq"),O=c("Wp6s"),C=c("NFeN");const v=function(t){return{card_flipped:t}};let k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Eb({type:t,selectors:[["app-card"]],inputs:{card:"card",flipped:"flipped"},decls:8,vars:5,consts:[[1,"card-wrapper"],[1,"card","flipper",3,"ngClass"],[1,"card__back"],[1,"card__icon"],[1,"card__face"],[3,"className"]],template:function(t,e){1&t&&(u.Qb(0,"div",0),u.Qb(1,"div",1),u.Qb(2,"mat-card",2),u.Qb(3,"mat-icon",3),u.vc(4,"lightbulb_outline"),u.Pb(),u.Pb(),u.Qb(5,"mat-card",4),u.Qb(6,"mat-icon",5),u.vc(7),u.Pb(),u.Pb(),u.Pb(),u.Pb()),2&t&&(u.Ab(1),u.gc("ngClass",u.ic(3,v,e.flipped)),u.Ab(5),u.gc("className","card__icon card-color_"+e.card.color),u.Ab(1),u.xc(" ",e.card.suit," "))},directives:[n.i,O.a,C.a],styles:["[_nghost-%COMP%]{height:100%;width:100%}.card-wrapper[_ngcontent-%COMP%]{perspective:1000px}.card[_ngcontent-%COMP%]{transform-style:preserve-3d;position:relative;transform:rotateY(0deg);transition:transform .3s ease-in-out}.card_flipped[_ngcontent-%COMP%]{transform:rotateY(180deg);transition-duration:.6s}.card[_ngcontent-%COMP%], .card-wrapper[_ngcontent-%COMP%], .card__back[_ngcontent-%COMP%], .card__face[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.card__icon[_ngcontent-%COMP%]{height:auto;width:auto;font-size:80px}.card__back[_ngcontent-%COMP%], .card__face[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute;top:0;left:0}.card__back[_ngcontent-%COMP%]{z-index:2;transform:rotateY(0deg);background-color:#90a4ae;color:hsla(0,0%,100%,.1)}.card__face[_ngcontent-%COMP%]{transform:rotateY(180deg);background-color:#fff;color:#455a64}"]}),t})();function w(t,e){if(1&t){const t=u.Rb();u.Qb(0,"mat-grid-tile",8),u.Qb(1,"app-card",9),u.Xb("click",(function(){u.mc(t);const c=e.index,n=u.bc().ngIf;return u.bc(2).onClickCard(c,n[c])})),u.Pb(),u.Pb()}if(2&t){const t=e.$implicit,c=e.index,n=u.bc().ngIf;u.Ab(1),u.gc("card",t)("flipped",n[c])}}function j(t,e){if(1&t){const t=u.Rb();u.Qb(0,"div",5),u.Qb(1,"mat-grid-list",6),u.Xb("resize",(function(e){return u.mc(t),u.bc(2).onResize(e)}),!1,u.lc),u.uc(2,w,2,2,"mat-grid-tile",7),u.Pb(),u.Pb()}if(2&t){const t=u.bc().ngIf,e=u.bc();u.Ab(1),u.gc("cols",e.columns),u.Ab(1),u.gc("ngForOf",t)}}function x(t,e){if(1&t&&(u.Qb(0,"div"),u.Qb(1,"app-page-header"),u.Lb(2,"app-page-header-back",1),u.Qb(3,"app-page-header-title",2),u.vc(4),u.cc(5,"async"),u.Pb(),u.Pb(),u.Qb(6,"div",3),u.uc(7,j,3,2,"div",4),u.cc(8,"async"),u.Pb(),u.Pb()),2&t){const t=e.ngIf,c=u.bc();u.Ab(2),u.gc("link","/"),u.Ab(1),u.gc("addons","Matched pairs: "+c.matchedPairs+"/"+t.length/2),u.Ab(1),u.xc(" Moves #",u.dc(5,4,c.round$)," "),u.Ab(3),u.gc("ngIf",u.dc(8,6,c.flipped$))}}const y=[{path:"",component:(()=>{class t{constructor(t){this.store=t,this.subscription=new r.a,t.dispatch(Object(o.d)()),this.deck$=t.pipe(Object(s.s)(p)),this.flipped$=t.pipe(Object(s.s)(b)),this.matched$=t.pipe(Object(s.s)(l)),this.round$=t.pipe(Object(s.s)(f)),this.justFlippedCardIdx$=t.pipe(Object(s.s)(g)),this.justFlippedCardIdx=[]}static getColumns(t){let e;return e=t>=992?6:t>=768?4:3,e}onClickCard(t,e){!1===e&&this.justFlippedCardIdx.length<2&&this.store.dispatch(Object(o.a)({cardIndex:t}))}ngOnInit(){this.columns=t.getColumns(window.innerWidth),this.subscription.add(this.justFlippedCardIdx$.subscribe(t=>{this.justFlippedCardIdx=t,2===t.length&&setTimeout(()=>this.store.dispatch(Object(o.g)()),2e3)})),this.subscription.add(this.matched$.subscribe(t=>{this.matchedPairs=t.filter(t=>t).length/2}))}ngOnDestroy(){this.subscription.unsubscribe()}onResize(e){this.columns=t.getColumns(e.target.innerWidth)}}return t.\u0275fac=function(e){return new(e||t)(u.Kb(s.h))},t.\u0275cmp=u.Eb({type:t,selectors:[["app-game"]],decls:2,vars:3,consts:[[4,"ngIf"],["ariaLabel","Back to homepage",3,"link"],[3,"addons"],[1,"page-content","game-content"],["class","container",4,"ngIf"],[1,"container"],["rowHeight","1:1.25","gutterSize","16px",3,"cols","resize"],["class","overflow-visible",4,"ngFor","ngForOf"],[1,"overflow-visible"],[3,"card","flipped","click"]],template:function(t,e){1&t&&(u.uc(0,x,9,8,"div",0),u.cc(1,"async")),2&t&&u.gc("ngIf",u.dc(1,1,e.deck$))},directives:[n.k,h.a,m.a,_.a,P.a,n.j,P.c,k],pipes:[n.b],styles:[".game-content[_ngcontent-%COMP%], [_nghost-%COMP%]{flex-grow:1;display:flex;flex-direction:column}"]}),t})()}];let I=(()=>{class t{}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)},imports:[[a.f.forChild(y)],a.f]}),t})();var M=c("oDRm");let Q=(()=>{class t{}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)},providers:[M.a],imports:[[n.c,i.a,I]]}),t})()}}]);