!function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{qRw5:function(n,i,a){"use strict";a.r(i),a.d(i,"UsersModule",(function(){return G}));var r,o=a("ofXK"),c=a("tyNb"),u=a("fXoL"),l=((r=function t(){e(this,t)}).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=u.Gb({type:r,selectors:[["app-users"]],decls:1,vars:0,template:function(t,e){1&t&&u.Nb(0,"router-outlet")},directives:[c.g],styles:[""]}),r),s=a("+0xr"),d=a("l7P3"),b=a("Ja7q"),f=a("CAyM").b.getSelectors().selectAll,m=Object(d.o)("users"),h=Object(d.q)(m,f),p=Object(d.q)(m,(function(t){return t.totalCount})),g=a("dr/9"),S=a("Dh3D"),v=a("M9IT"),y=a("kmnG"),w=a("qFsG"),C=a("oWy8"),x=a("bTqV"),R=a("NFeN");function P(t,e){1&t&&(u.Sb(0,"th",15),u.xc(1,"Id"),u.Rb())}function I(t,e){if(1&t&&(u.Sb(0,"td",16),u.xc(1),u.Rb()),2&t){var n=e.$implicit;u.Bb(1),u.zc("",n.id," ")}}function k(t,e){1&t&&(u.Sb(0,"th",15),u.xc(1,"First Name"),u.Rb())}function D(t,e){if(1&t&&(u.Sb(0,"td",16),u.xc(1),u.Rb()),2&t){var n=e.$implicit;u.Bb(1),u.zc(" ",n.firstName," ")}}function z(t,e){1&t&&(u.Sb(0,"th",15),u.xc(1,"Last Name"),u.Rb())}function F(t,e){if(1&t&&(u.Sb(0,"td",16),u.xc(1),u.Rb()),2&t){var n=e.$implicit;u.Bb(1),u.zc("",n.lastName," ")}}function N(t,e){1&t&&(u.Sb(0,"th",15),u.xc(1,"Email"),u.Rb())}function T(t,e){if(1&t&&(u.Sb(0,"td",16),u.xc(1),u.Rb()),2&t){var n=e.$implicit;u.Bb(1),u.zc("",n.email," ")}}function j(t,e){1&t&&(u.Sb(0,"th",15),u.xc(1,"Actions"),u.Rb())}function $(t,e){if(1&t){var n=u.Tb();u.Sb(0,"td",16),u.Sb(1,"button",2),u.Zb("click",(function(){u.oc(n);var t=e.$implicit;return u.dc().onEdit(t)})),u.Sb(2,"mat-icon"),u.xc(3,"edit"),u.Rb(),u.Rb(),u.Rb()}}function B(t,e){1&t&&u.Nb(0,"tr",17)}function O(t,e){1&t&&u.Nb(0,"tr",18)}function M(t,e){1&t&&(u.Sb(0,"div",19),u.xc(1," No users found.\n"),u.Rb())}function Q(t,e){1&t&&(u.Sb(0,"div",19),u.xc(1," Loading users...\n"),u.Rb())}var q,A,U,H=function(){return[10,20,50]},Z=[{path:"",component:l,children:[{path:"list",component:(q=function(){function n(t,i,a){e(this,n),this.store=t,this.activatedRoute=i,this.router=a,this.displayedColumns=[],this.currentFilter="",this.defaultSort={active:"id",direction:"asc"},this.defaultPageIndex=0,this.defaultPageSize=10}var i,a,r;return i=n,(a=[{key:"ngOnInit",value:function(){var t=this;this.users$=this.store.pipe(Object(d.t)(h)),this.loading$=this.store.pipe(Object(d.t)(g.a)),this.totalCount$=this.store.pipe(Object(d.t)(p)),this.users$.subscribe((function(e){t.dataSourceForTable=new s.k(e)})),this.activatedRoute.queryParams.subscribe((function(e){(null==e?void 0:e.sortField)&&(null==e?void 0:e.sortDirection)?t.currentSort={active:e.sortField,direction:e.sortDirection}:t.setCurrentSort(t.defaultSort),(null==e?void 0:e.pageIndex)&&(null==e?void 0:e.pageSize)?(t.currentPageIndex=e.pageIndex,t.currentPageSize=e.pageSize):t.setCurrentPageIndexAndSize(t.defaultPageIndex,t.defaultPageSize),(null==e?void 0:e.filter)&&(t.currentFilter=e.filter),(null==e?void 0:e.sortField)&&(null==e?void 0:e.sortDirection)&&(null==e?void 0:e.pageIndex)&&(null==e?void 0:e.pageSize)&&t.loadUsers()})),this.setDisplayedColumns()}},{key:"onRefresh",value:function(){this.loadUsers()}},{key:"onMatSortChange",value:function(t){this.setCurrentSort(t)}},{key:"onClear",value:function(){this.onFilterChange("")}},{key:"onPageChange",value:function(t){this.setCurrentPageIndexAndSize(t.pageIndex,t.pageSize)}},{key:"onFilterChange",value:function(t){this.currentFilter=t,this.updateQueryParamToUrl({filter:""===t?null:t})}},{key:"onEdit",value:function(t){console.log("Clicked: ",t)}},{key:"loadUsers",value:function(){this.store.dispatch(Object(b.a)({collectionParams:{filter:this.currentFilter,sortDirection:this.currentSort.direction,sortField:this.currentSort.active,pageIndex:this.currentPageIndex,pageSize:this.currentPageSize}}))}},{key:"setDisplayedColumns",value:function(){this.displayedColumns=["id","firstName","lastName","email","actions"]}},{key:"setCurrentSort",value:function(t){this.currentSort=t,this.updateQueryParamToUrl({sortField:t.active,sortDirection:t.direction})}},{key:"updateQueryParamToUrl",value:function(t){this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:t,queryParamsHandling:"merge"})}},{key:"setCurrentPageIndexAndSize",value:function(t,e){this.currentPageIndex=t,this.currentPageSize=e,this.updateQueryParamToUrl({pageIndex:t,pageSize:e})}}])&&t(i.prototype,a),r&&t(i,r),n}(),q.\u0275fac=function(t){return new(t||q)(u.Mb(d.h),u.Mb(c.a),u.Mb(c.d))},q.\u0275cmp=u.Gb({type:q,selectors:[["app-users-list"]],viewQuery:function(t,e){var n;1&t&&(u.Ac(S.a,!0),u.sc(v.a,!0)),2&t&&(u.lc(n=u.ac())&&(e.sort=n.first),u.lc(n=u.ac())&&(e.paginator=n.first))},decls:36,vars:24,consts:[["matInput","","appInput","",3,"value","delayedInput"],["mat-icon-button","",3,"disabled","click"],["mat-icon-button","",3,"click"],["mat-table","","matSort","","matSortDisableClear","",1,"w-100",3,"dataSource","matSortActive","matSortDirection","matSortChange"],["matColumnDef","id"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","firstName"],["matColumnDef","lastName"],["matColumnDef","email"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","row-info",4,"ngIf"],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"row-info"]],template:function(t,e){1&t&&(u.xc(0),u.ec(1,"async"),u.Sb(2,"mat-form-field"),u.Sb(3,"mat-label"),u.xc(4,"Search"),u.Rb(),u.Sb(5,"input",0),u.Zb("delayedInput",(function(t){return e.onFilterChange(t)})),u.Rb(),u.Rb(),u.Sb(6,"button",1),u.Zb("click",(function(){return e.onClear()})),u.Sb(7,"mat-icon"),u.xc(8,"clear"),u.Rb(),u.Rb(),u.Sb(9,"button",2),u.Zb("click",(function(){return e.onRefresh()})),u.Sb(10,"mat-icon"),u.xc(11,"refresh"),u.Rb(),u.Rb(),u.Sb(12,"table",3),u.Zb("matSortChange",(function(t){return e.onMatSortChange(t)})),u.Qb(13,4),u.wc(14,P,2,0,"th",5),u.wc(15,I,2,1,"td",6),u.Pb(),u.Qb(16,7),u.wc(17,k,2,0,"th",5),u.wc(18,D,2,1,"td",6),u.Pb(),u.Qb(19,8),u.wc(20,z,2,0,"th",5),u.wc(21,F,2,1,"td",6),u.Pb(),u.Qb(22,9),u.wc(23,N,2,0,"th",5),u.wc(24,T,2,1,"td",6),u.Pb(),u.Qb(25,10),u.wc(26,j,2,0,"th",5),u.wc(27,$,4,0,"td",6),u.Pb(),u.wc(28,B,1,0,"tr",11),u.wc(29,O,1,0,"tr",12),u.Rb(),u.wc(30,M,2,0,"div",13),u.ec(31,"async"),u.wc(32,Q,2,0,"div",13),u.ec(33,"async"),u.Sb(34,"mat-paginator",14),u.Zb("page",(function(t){return e.onPageChange(t)})),u.ec(35,"async"),u.Rb()),2&t&&(u.zc("Users (",u.fc(1,15,e.totalCount$),") "),u.Bb(5),u.ic("value",e.currentFilter),u.Bb(1),u.ic("disabled",!e.currentFilter),u.Bb(6),u.ic("dataSource",e.dataSourceForTable)("matSortActive",e.currentSort.active)("matSortDirection",e.currentSort.direction),u.Bb(16),u.ic("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),u.Bb(1),u.ic("matRowDefColumns",e.displayedColumns),u.Bb(1),u.ic("ngIf",0===e.dataSourceForTable.data.length&&!u.fc(31,17,e.loading$)),u.Bb(2),u.ic("ngIf",0===e.dataSourceForTable.data.length&&u.fc(33,19,e.loading$)),u.Bb(2),u.ic("length",u.fc(35,21,e.totalCount$))("pageIndex",e.currentPageIndex)("pageSize",e.currentPageSize)("pageSizeOptions",u.jc(23,H)))},directives:[y.c,y.g,w.b,C.a,x.a,R.a,s.j,S.a,s.c,s.e,s.b,s.g,s.i,o.l,v.a,s.d,S.b,s.a,s.f,s.h],pipes:[o.b],styles:[".row-info[_ngcontent-%COMP%]{height:48px;display:flex;align-items:center;justify-content:center;background:#fff}"]}),q)},{path:"",redirectTo:"list",pathMatch:"full"}]}],J=((A=function t(){e(this,t)}).\u0275mod=u.Kb({type:A}),A.\u0275inj=u.Jb({factory:function(t){return new(t||A)},imports:[[c.f.forChild(Z)],c.f]}),A),E=a("PCNd"),G=((U=function t(){e(this,t)}).\u0275mod=u.Kb({type:U}),U.\u0275inj=u.Jb({factory:function(t){return new(t||U)},imports:[[o.c,J,E.a]]}),U)}}])}();