(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{VY05:function(t,c,e){"use strict";e.r(c),e.d(c,"GameModule",(function(){return j}));var n=e("ofXK"),i=e("PCNd"),r=e("tyNb"),o=e("l7P3"),s=e("6s34");const a=t=>t.game,d=Object(o.p)(a,t=>t.deck),p=Object(o.p)(a,t=>t.flipped),l=Object(o.p)(a,t=>t.justFlippedIdx);Object(o.p)(a,t=>t.round);var b=e("fXoL"),f=e("zkoq"),g=e("Wp6s"),u=e("NFeN");const m=function(t){return{card_flipped:t}};let h=(()=>{class t{}return t.\u0275fac=function(c){return new(c||t)},t.\u0275cmp=b.Eb({type:t,selectors:[["app-card"]],inputs:{card:"card",flipped:"flipped"},decls:8,vars:5,consts:[[1,"card-wrapper"],[1,"card","flipper",3,"ngClass"],[1,"card__back"],[1,"card__icon"],[1,"card__face"],[3,"className"]],template:function(t,c){1&t&&(b.Qb(0,"div",0),b.Qb(1,"div",1),b.Qb(2,"mat-card",2),b.Qb(3,"mat-icon",3),b.vc(4,"lightbulb_outline"),b.Pb(),b.Pb(),b.Qb(5,"mat-card",4),b.Qb(6,"mat-icon",5),b.vc(7),b.Pb(),b.Pb(),b.Pb(),b.Pb()),2&t&&(b.Ab(1),b.gc("ngClass",b.ic(3,m,c.flipped)),b.Ab(5),b.gc("className","card__icon card-color_"+c.card.color),b.Ab(1),b.xc(" ",c.card.suit," "))},directives:[n.i,g.a,u.a],styles:["[_nghost-%COMP%]{height:100%;width:100%}.card-wrapper[_ngcontent-%COMP%]{perspective:1000px}.card[_ngcontent-%COMP%]{transform-style:preserve-3d;position:relative;transform:rotateY(0deg);transition:transform .3s ease-in-out}.card_flipped[_ngcontent-%COMP%]{transform:rotateY(180deg);transition-duration:.6s}.card[_ngcontent-%COMP%], .card-wrapper[_ngcontent-%COMP%], .card__back[_ngcontent-%COMP%], .card__face[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.card__icon[_ngcontent-%COMP%]{height:auto;width:auto;font-size:80px}.card__back[_ngcontent-%COMP%], .card__face[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute;top:0;left:0}.card__back[_ngcontent-%COMP%]{z-index:2;transform:rotateY(0deg);background-color:#90a4ae;color:hsla(0,0%,100%,.1)}.card__face[_ngcontent-%COMP%]{transform:rotateY(180deg);background-color:#fff;color:#455a64}"]}),t})();function _(t,c){if(1&t){const t=b.Rb();b.Qb(0,"mat-grid-tile",6),b.Qb(1,"app-card",7),b.Xb("click",(function(){b.mc(t);const e=c.index,n=b.bc().ngIf;return b.bc(2).onClickCard(e,n[e])})),b.Pb(),b.Pb()}if(2&t){const t=c.$implicit,e=c.index,n=b.bc().ngIf;b.Ab(1),b.gc("card",t)("flipped",n[e])}}function C(t,c){if(1&t){const t=b.Rb();b.Qb(0,"div",3),b.Qb(1,"mat-grid-list",4),b.Xb("resize",(function(c){return b.mc(t),b.bc(2).onResize(c)}),!1,b.lc),b.uc(2,_,2,2,"mat-grid-tile",5),b.Pb(),b.Pb()}if(2&t){const t=b.bc().ngIf,c=b.bc();b.Ab(1),b.gc("cols",c.columns),b.Ab(1),b.gc("ngForOf",t)}}function O(t,c){if(1&t&&(b.Qb(0,"div",1),b.uc(1,C,3,2,"div",2),b.cc(2,"async"),b.Pb()),2&t){const t=b.bc();b.Ab(1),b.gc("ngIf",b.dc(2,1,t.flipped$))}}const P=[{path:"",component:(()=>{class t{constructor(t){this.store=t,t.dispatch(Object(s.d)()),this.deck$=t.pipe(Object(o.s)(d)),this.flipped$=t.pipe(Object(o.s)(p)),this.justFlippedCardIdx$=t.pipe(Object(o.s)(l)),this.justFlippedCardIdx=[]}static getColumns(t){let c;return c=t>=992?6:t>=768?4:3,c}onClickCard(t,c){!1===c&&this.justFlippedCardIdx.length<2&&this.store.dispatch(Object(s.a)({cardIndex:t}))}ngOnInit(){this.columns=t.getColumns(window.innerWidth),this.subscription=this.justFlippedCardIdx$.subscribe(t=>{this.justFlippedCardIdx=t,2===t.length&&setTimeout(()=>this.store.dispatch(Object(s.g)()),2e3)})}ngOnDestroy(){this.subscription.unsubscribe()}onResize(c){this.columns=t.getColumns(c.target.innerWidth)}}return t.\u0275fac=function(c){return new(c||t)(b.Kb(o.h))},t.\u0275cmp=b.Eb({type:t,selectors:[["app-game"]],decls:2,vars:3,consts:[["class","page-content game-content",4,"ngIf"],[1,"page-content","game-content"],["class","container",4,"ngIf"],[1,"container"],["rowHeight","1:1.25","gutterSize","16px",3,"cols","resize"],["class","overflow-visible",4,"ngFor","ngForOf"],[1,"overflow-visible"],[3,"card","flipped","click"]],template:function(t,c){1&t&&(b.uc(0,O,3,3,"div",0),b.cc(1,"async")),2&t&&b.gc("ngIf",b.dc(1,1,c.deck$))},directives:[n.k,f.a,n.j,f.c,h],pipes:[n.b],styles:[".game-content[_ngcontent-%COMP%], [_nghost-%COMP%]{flex-grow:1;display:flex;flex-direction:column}"]}),t})()}];let v=(()=>{class t{}return t.\u0275mod=b.Ib({type:t}),t.\u0275inj=b.Hb({factory:function(c){return new(c||t)},imports:[[r.f.forChild(P)],r.f]}),t})();var w=e("oDRm");let j=(()=>{class t{}return t.\u0275mod=b.Ib({type:t}),t.\u0275inj=b.Hb({factory:function(c){return new(c||t)},providers:[w.a],imports:[[n.c,i.a,v]]}),t})()}}]);