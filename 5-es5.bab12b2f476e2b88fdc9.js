!function(){function n(n,t){for(var e=0;e<t.length;e++){var c=t[e];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}function t(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{VY05:function(e,c,i){"use strict";i.r(c),i.d(c,"GameModule",(function(){return Q}));var r=i("ofXK"),o=i("PCNd"),a=i("tyNb"),s=i("l7P3"),d=i("6s34"),p=function(n){return n.game},u=Object(s.p)(p,(function(n){return n.deck})),f=Object(s.p)(p,(function(n){return n.flipped})),l=Object(s.p)(p,(function(n){return n.justFlippedIdx}));Object(s.p)(p,(function(n){return n.round}));var b,g=i("fXoL"),h=i("zkoq"),m=i("Wp6s"),v=i("NFeN"),_=function(n){return{card_flipped:n}},C=((b=function n(){t(this,n)}).\u0275fac=function(n){return new(n||b)},b.\u0275cmp=g.Eb({type:b,selectors:[["app-card"]],inputs:{card:"card",flipped:"flipped"},decls:8,vars:5,consts:[[1,"card-wrapper"],[1,"card","flipper",3,"ngClass"],[1,"card__back"],[1,"card__icon"],[1,"card__face"],[3,"className"]],template:function(n,t){1&n&&(g.Qb(0,"div",0),g.Qb(1,"div",1),g.Qb(2,"mat-card",2),g.Qb(3,"mat-icon",3),g.vc(4,"lightbulb_outline"),g.Pb(),g.Pb(),g.Qb(5,"mat-card",4),g.Qb(6,"mat-icon",5),g.vc(7),g.Pb(),g.Pb(),g.Pb(),g.Pb()),2&n&&(g.Ab(1),g.gc("ngClass",g.ic(3,_,t.flipped)),g.Ab(5),g.gc("className","card__icon card-color_"+t.card.color),g.Ab(1),g.xc(" ",t.card.suit," "))},directives:[r.i,m.a,v.a],styles:["[_nghost-%COMP%]{height:100%;width:100%}.card-wrapper[_ngcontent-%COMP%]{perspective:1000px}.card[_ngcontent-%COMP%]{transform-style:preserve-3d;position:relative;transform:rotateY(0deg);transition:transform .3s ease-in-out}.card_flipped[_ngcontent-%COMP%]{transform:rotateY(180deg);transition-duration:.6s}.card[_ngcontent-%COMP%], .card-wrapper[_ngcontent-%COMP%], .card__back[_ngcontent-%COMP%], .card__face[_ngcontent-%COMP%]{box-sizing:border-box;width:100%;height:100%;display:flex;justify-content:center;align-items:center}.card__icon[_ngcontent-%COMP%]{height:auto;width:auto;font-size:80px}.card__back[_ngcontent-%COMP%], .card__face[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute;top:0;left:0}.card__back[_ngcontent-%COMP%]{z-index:2;transform:rotateY(0deg);background-color:#90a4ae;color:hsla(0,0%,100%,.1)}.card__face[_ngcontent-%COMP%]{transform:rotateY(180deg);background-color:#fff;color:#455a64}"]}),b);function O(n,t){if(1&n){var e=g.Rb();g.Qb(0,"mat-grid-tile",6),g.Qb(1,"app-card",7),g.Xb("click",(function(){g.mc(e);var n=t.index,c=g.bc().ngIf;return g.bc(2).onClickCard(n,c[n])})),g.Pb(),g.Pb()}if(2&n){var c=t.$implicit,i=t.index,r=g.bc().ngIf;g.Ab(1),g.gc("card",c)("flipped",r[i])}}function P(n,t){if(1&n){var e=g.Rb();g.Qb(0,"div",3),g.Qb(1,"mat-grid-list",4),g.Xb("resize",(function(n){return g.mc(e),g.bc(2).onResize(n)}),!1,g.lc),g.uc(2,O,2,2,"mat-grid-tile",5),g.Pb(),g.Pb()}if(2&n){var c=g.bc().ngIf,i=g.bc();g.Ab(1),g.gc("cols",i.columns),g.Ab(1),g.gc("ngForOf",c)}}function y(n,t){if(1&n&&(g.Qb(0,"div",1),g.uc(1,P,3,2,"div",2),g.cc(2,"async"),g.Pb()),2&n){var e=g.bc();g.Ab(1),g.gc("ngIf",g.dc(2,1,e.flipped$))}}var k,w,j,x=[{path:"",component:(k=function(){function e(n){t(this,e),this.store=n,n.dispatch(Object(d.d)()),this.deck$=n.pipe(Object(s.s)(u)),this.flipped$=n.pipe(Object(s.s)(f)),this.justFlippedCardIdx$=n.pipe(Object(s.s)(l)),this.justFlippedCardIdx=[]}var c,i,r;return c=e,r=[{key:"getColumns",value:function(n){return n>=992?6:n>=768?4:3}}],(i=[{key:"onClickCard",value:function(n,t){!1===t&&this.justFlippedCardIdx.length<2&&this.store.dispatch(Object(d.a)({cardIndex:n}))}},{key:"ngOnInit",value:function(){var n=this;this.columns=e.getColumns(window.innerWidth),this.subscription=this.justFlippedCardIdx$.subscribe((function(t){n.justFlippedCardIdx=t,2===t.length&&setTimeout((function(){return n.store.dispatch(Object(d.g)())}),2e3)}))}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onResize",value:function(n){this.columns=e.getColumns(n.target.innerWidth)}}])&&n(c.prototype,i),r&&n(c,r),e}(),k.\u0275fac=function(n){return new(n||k)(g.Kb(s.h))},k.\u0275cmp=g.Eb({type:k,selectors:[["app-game"]],decls:2,vars:3,consts:[["class","page-content game-content",4,"ngIf"],[1,"page-content","game-content"],["class","container",4,"ngIf"],[1,"container"],["rowHeight","1:1.25","gutterSize","16px",3,"cols","resize"],["class","overflow-visible",4,"ngFor","ngForOf"],[1,"overflow-visible"],[3,"card","flipped","click"]],template:function(n,t){1&n&&(g.uc(0,y,3,3,"div",0),g.cc(1,"async")),2&n&&g.gc("ngIf",g.dc(1,1,t.deck$))},directives:[r.k,h.a,r.j,h.c,C],pipes:[r.b],styles:[".game-content[_ngcontent-%COMP%], [_nghost-%COMP%]{flex-grow:1;display:flex;flex-direction:column}"]}),k)}],I=((w=function n(){t(this,n)}).\u0275mod=g.Ib({type:w}),w.\u0275inj=g.Hb({factory:function(n){return new(n||w)},imports:[[a.f.forChild(x)],a.f]}),w),M=i("oDRm"),Q=((j=function n(){t(this,n)}).\u0275mod=g.Ib({type:j}),j.\u0275inj=g.Hb({factory:function(n){return new(n||j)},providers:[M.a],imports:[[r.c,o.a,I]]}),j)}}])}();